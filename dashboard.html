<div id="ambient-controller" style="position: fixed; bottom: 30px; right: 30px; z-index: 9999; background: rgba(15, 23, 42, 0.95); border: 2px solid #8b5cf6; padding: 15px; border-radius: 16px; width: 220px; box-shadow: 0 0 20px rgba(139, 92, 246, 0.5);">
    <h3 style="color: #a78bfa; font-size: 14px; margin: 0 0 10px 0; font-family: sans-serif;">System Audio</h3>
    
    <select id="dashPicker" style="width: 100%; background: #000; color: white; border: 1px solid #444; padding: 8px; border-radius: 8px; margin-bottom: 10px;">
        <option value="https://actions.google.com/sounds/v1/weather/rain_on_roof.ogg">ğŸŒ§ï¸ Live Rain</option>
        <option value="https://actions.google.com/sounds/v1/foley/fire_burning_crackle.ogg">ğŸ”¥ Live Fire</option>
        <option value="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">ğŸ¹ Live Piano</option>
    </select>

    <button id="playToggle" onclick="handleMusic()" style="width: 100%; background: #8b5cf6; color: white; border: none; padding: 10px; border-radius: 8px; font-weight: bold; cursor: pointer;">
        START AUDIO
    </button>

    <audio id="ambientPlayer" loop></audio>
</div>

<script>
    function handleMusic() {
        const audio = document.getElementById('ambientPlayer');
        const picker = document.getElementById('dashPicker');
        const btn = document.getElementById('playToggle');

        if (audio.paused) {
            audio.src = picker.value;
            audio.play().then(() => {
                btn.innerText = "PAUSE";
                btn.style.background = "#ef4444";
            }).catch(e => alert("Please click anywhere on the page first!"));
        } else {
            audio.pause();
            btn.innerText = "START AUDIO";
            btn.style.background = "#8b5cf6";
        }
    }
</script>